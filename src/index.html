<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />

    <!-- css -->
    <link rel="stylesheet" href="./index.css" />

    <!-- scripts -->
    <script type="module" src="scripts/home.js"></script>
    <script
      src="https://kit.fontawesome.com/6d99204fba.js"
      crossorigin="anonymous"
    ></script>

    <title>Warrantracker</title>
  </head>
  <body>
    <!-- navbar -->
    <nav class="navbar navbar-custom">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"
          ><img src="img/team-logo.png" id="team-logo"></img> <span id="nav-brand">Warrantracker</span></a
        >
      </div>
    </nav>

    <!-- main page -->
    <main class="container p-auto pt-3" id="page">
      <!-- div for search bar -->
      <form class="d-flex justify-content-center" role="search" id="search-form" onsubmit="return false">
        <input
          class="form-control me- search-bar"
          type="search"
          placeholder="Search"
          aria-label="Search"
          id="search-bar"
        />
      </form>

      <!-- section for label bar -->
      <section class="d-flex justify-content-center mt-3 mb-3">
        <div class="btn-labels" id="tag-btn-div">
          <button
            type="button"
            class="btn btn-light active"
            data-bs-toggle="button"
            id="all-btn"
          >
            All
          </button>
        </div>
      </section>

      <section class="row" id="info-section">
        <!-- div for profile cards -->
        <div class="col-lg-9">
          <div class="row" id="grid">
            <div class="col-sm-6 col-lg-4 p-2" id="new-profile-btn">
              <!-- Hiding/showing the modal is handled by bootstrap, see 
                https://getbootstrap.com/docs/4.0/components/modal/ -->
              <div
                type="button"
                data-bs-toggle="modal"
                data-bs-target="#new-modal"
                class="card"
              >
                <h5 class="position-absolute top-50 start-50 translate-middle">
                  +
                </h5>
              </div>
            </div>
          </div>
        </div>

        <!-- div for upcoming event -->
        <div class="col-lg-3 p-2">
          <div class="card event-card">
            <div class="card-header">
              <i class="fa-solid fa-calendar-days"></i> Upcoming Events
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">
                <h6>Oct. 31</h6>
                <i class="fa-regular fa-angle-right"></i> iPhone 13 Warranty
                Expires
              </li>
              <li class="list-group-item">
                <h6>Nov. 20</h6>
                <i class="fa-regular fa-angle-right"></i> Change the filter
                <br />
                <i class="fa-regular fa-angle-right"></i> Sony a7r3 Warranty
                Expires
              </li>
            </ul>
          </div>
        </div>
      </section>
    </main>

    <!-- New Profile Modal (Pop up) -->
    <!-- When user clicks the card with "+", this modal will pop up -->
    <div
      class="modal fade"
      id="new-modal"
      tabindex="-1"
      aria-labelledby="new-modal-label"
      aria-hidden="true"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
    >
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <!-- Change the modal's header -->
            <h1 class="modal-title fs-5" id="new-modal-label">New Profile</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <form class="needs-validation" id="new-modal-form">
            <div class="modal-body">
              <!-- when edit the content of this modal, just edit the code below -->
              <div class="mb-3">
                <label for="new-modal-title" class="form-label">Title:</label>
                <input
                  type="text"
                  class="form-control"
                  id="new-modal-title"
                  placeholder="Product Name"
                  required
                />
                <div class="valid-feedback">Looks good!</div>
              </div>
              <div class="mb-3">
                <label for="tag" class="form-label" id="new-modal-tag-label"
                  >Tag:</label
                >
                <div class="dropdown d-inline-block">
                  <input
                    type="text"
                    class="form-control form-control-sm dropdown-toggle m-1"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    id="new-modal-tag"
                    placeholder="tag1, tag2, ..."
                  />
                  <ul class="dropdown-menu" id="new-modal-tag-list"></ul>
                </div>
              </div>
              <div class="mb-3">
                <label for="new-modal-exp_date" class="form-label"
                  >Expiration Date:</label
                >
                <input
                  type="date"
                  class="form-control"
                  id="new-modal-exp_date"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="serial_num" class="form-label">Serial #:</label>
                <input
                  type="text"
                  class="form-control"
                  id="new-modal-serial_num"
                  placeholder="Serial #"
                />
              </div>
              <div class="mb-3">
                <label for="note" class="form-label">Additional Notes:</label>
                <textarea
                  class="form-control"
                  id="new-modal-note"
                  rows="5"
                  placeholder="Add more notes..."
                ></textarea>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button type="submit" class="btn btn-primary" id="createProfile">
                Save
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Confirm Delete modal-->
    <!-- This modal is used when the user clicks the delete button - it confirms whether or not to continue with the deletion.-->
    <div
      class="modal fade"
      id="confirm-delete-modal"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      role="dialog"
      aria-labelledby="confirmModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <!-- Change the modal's header -->
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="confirm-delete-modal-label">
              Are You Sure?
            </h1>
          </div>
          <div class="modal-body">
            Deletion will permanently remove the product profile.
          </div>
          <div class="modal-footer">
            <button
              type="button"
              id="close-deletion-btn"
              class="btn btn-secondary"
              data-bs-toggle="modal"
              data-bs-target="#info-modal"
            >
              Cancel
            </button>
            <button
              type="button"
              id="delbtn"
              class="btn btn-danger"
              data-bs-dismiss="modal"
            >
              Confirm Deletion
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- Confirm Cancel modal on modif -->
    <div
      class="modal fade"
      id="confirm-cancel-modify-modal"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
      tabindex="-1"
      role="dialog"
      aria-labelledby="confirmModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <!-- Change the modal's header -->
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="confirm-cancel-modify-modal-label">
              Are You Sure?
            </h1>
          </div>
          <div class="modal-body">
            Exiting will cancel your changes to the profile.
          </div>
          <div class="modal-footer">
            <button
              type="button"
              id="cancel-cancel-modify-btn"
              class="btn btn-secondary"
              data-bs-toggle="modal"
              data-bs-target="#info-modal"
            >
              Go back
            </button>
            <button
              type="button"
              id="cancelbtn"
              class="btn btn-danger"
              data-bs-dismiss="modal"
            >
              Confirm
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Info Modal -->
    <!-- This modal is used when user clicks a specific card.
    In the event handler, we need to update the info to the corresponding Product
    More specifically, we need to change title, exp_date, SerialNum, tag and note to that product 
    So when user clicks that card, the modal will open with the corresponding info -->

    <!-- Hiding/showing the modal is handled by bootstrap, see 
      https://getbootstrap.com/docs/4.0/components/modal/ -->
    <div
      class="modal fade"
      id="info-modal"
      tabindex="-1"
      aria-labelledby="info_modal_label"
      aria-hidden="true"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
    >
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <!-- Change the modal's header -->
            <h1 class="modal-title fs-5" id="info-modal-label">Info</h1>
            <button type="button" class="btn-close" aria-label="Close"></button>
          </div>
          <form class="needs-validation" id="info-modal-form">
            <div class="modal-body">
              <!-- when edit the content of this modal, just edit the code below -->
              <!-- need to change the input elements below to text info -->
              <div class="mb-3">
                <label for="title" class="form-label">Title:</label>
                <input
                  type="text"
                  class="form-control"
                  id="info-modal-input-title"
                  placeholder="Product Name"
                />
              </div>
              <div class="mb-3">
                <label for="tag" class="form-label" id="info-modal-tag-label"
                  >Tag:</label
                >
                <div class="dropdown d-inline-block">
                  <input
                    type="text"
                    class="form-control form-control-sm dropdown-toggle m-1"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    id="info-modal-input-tag"
                    placeholder="tag1, tag2, ..."
                  />
                  <ul class="dropdown-menu" id="info-modal-tag-list"></ul>
                </div>
              </div>
              <div class="mb-3">
                <label for="exp_date" class="form-label"
                  >Expiration Date:</label
                >
                <input
                  type="date"
                  class="form-control"
                  id="info-modal-input-exp_date"
                />
              </div>
              <div class="mb-3">
                <label for="serial_num" class="form-label">Serial #:</label>
                <input
                  type="text"
                  class="form-control"
                  id="info-modal-input-serial_num"
                />
              </div>
              <div class="mb-3">
                <label for="note" class="form-label">Additional Notes:</label>
                <textarea
                  class="form-control"
                  id="info-modal-input-note"
                  rows="5"
                ></textarea>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-danger"
                data-bs-toggle="modal"
                data-bs-target="#confirm-delete-modal"
              >
                Delete
              </button>
              <button type="submit" class="btn btn-primary" id="modify-profile">
                Modify
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Bootstrap CDN -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>
    <!-- ion-icon -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  </body>
</html>
